<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Teacher's Day ‚Äî Code of Gratitude</title>
  <meta name="description" content="A Teacher's Day letter with C-language coding theme ‚Äî accessible and responsive." />
  <!-- Use system fonts for speed and privacy -->
  <style>
    :root{
      --bg: #0f1724;            /* deep navy */
      --card: #0b1220;
      --muted: #9aa5b1;
      --accent-a: #7dd3fc;     /* cyan */
      --accent-b: #a78bfa;     /* purple */
      --text: #e6eef6;
      --glass: rgba(255,255,255,0.03);
      --radius: 14px;
      --maxw: 900px;
      --focus: 3px solid #ffd54a;
      --shadow: 0 8px 30px rgba(2,6,23,0.6);
    }

    /* Accessibility: respect reduced motion */
    @media (prefers-reduced-motion: reduce){
      *{ transition: none !important; animation: none !important; }
    }

    /* Basic reset */
    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0;
      font-family: Inter, ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
      background:
        radial-gradient(1200px 600px at 10% 10%, rgba(167,139,250,0.06), transparent 8%),
        radial-gradient(1000px 500px at 95% 90%, rgba(125,211,252,0.05), transparent 12%),
        linear-gradient(180deg,var(--bg), #071021 60%);
      color:var(--text);
      -webkit-font-smoothing:antialiased;
      -moz-osx-font-smoothing:grayscale;
      padding: clamp(18px, 3vw, 36px);
      display:flex;
      align-items:center;
      justify-content:center;
      gap:24px;
    }

    /* Skip link for keyboard users */
    .skip-link{
      position: absolute;
      top: -40px;
      left: 12px;
      background: #ffd54a;
      color:#072029;
      padding:8px 12px;
      border-radius:6px;
      z-index: 1000;
      transition: top .18s ease;
    }
    .skip-link:focus{ top: 12px; outline: none; }

    .wrapper{
      width:100%;
      max-width:var(--maxw);
      display:grid;
      grid-template-columns: 1fr 360px;
      gap:28px;
      align-items:start;
    }

    @media (max-width:900px){
      .wrapper{ grid-template-columns: 1fr; padding-bottom:20px }
    }

    .card{
      background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));
      border-radius: var(--radius);
      padding: clamp(18px, 2.8vw, 28px);
      box-shadow: var(--shadow);
      border: 1px solid rgba(255,255,255,0.03);
    }

    header.site-header{
      display:flex;
      align-items:center;
      gap:16px;
      margin-bottom:12px;
    }
    .logo{
      width:62px;
      height:62px;
      border-radius:12px;
      background: linear-gradient(135deg,var(--accent-a), var(--accent-b));
      display:flex;
      align-items:center;
      justify-content:center;
      box-shadow: 0 6px 18px rgba(167,139,250,0.12);
      font-weight:700;
      color:#022027;
      font-family: monospace;
      font-size:18px;
      letter-spacing:0.6px;
    }
    .title{
      line-height:1;
    }
    .title h1{ margin:0; font-size:1.15rem; letter-spacing: -0.4px; }
    .title p{ margin:0; color:var(--muted); font-size:.95rem; }

    /* Letter area */
    article#letter{
      background: linear-gradient(180deg, rgba(255,255,255,0.01), rgba(255,255,255,0.005));
      padding:22px;
      border-radius:12px;
      border: 1px dashed rgba(255,255,255,0.03);
    }
    .meta{
      display:flex;
      justify-content:space-between;
      gap:12px;
      align-items:center;
      margin-bottom:12px;
      flex-wrap:wrap;
    }
    .meta .fromto{ color:var(--muted); font-size:0.95rem }
    .letter-body{ color:var(--text); font-size:1rem; line-height:1.6; }
    .letter-body p{ margin: 0 0 12px 0; }

    /* Styling for 'code' lines */
    .code-card{
      background: linear-gradient(90deg, rgba(255,255,255,0.01), rgba(255,255,255,0.005));
      border-radius:10px;
      padding:12px;
      margin-top:14px;
      font-family: "Source Code Pro", ui-monospace, SFMono-Regular, Menlo, Monaco, "Courier New", monospace;
      color:#bfefff;
      font-size:0.95rem;
      border-left:4px solid rgba(125,211,252,0.16);
      white-space:pre-wrap;
    }

    /* Sidebar utilities */
    aside.tools{ position:sticky; top:24px; align-self:start; }
    .tools .controls{ display:flex; flex-direction:column; gap:10px; }
    .btn{
      display:inline-flex;
      gap:10px;
      align-items:center;
      justify-content:center;
      padding:10px 12px;
      background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));
      border-radius:10px;
      border:1px solid rgba(255,255,255,0.03);
      color:var(--text);
      text-decoration:none;
      cursor:pointer;
      font-size:0.95rem;
    }
    .btn:focus{ outline:none; box-shadow: var(--focus); border-color: #ffd54a; }
    .btn.secondary{ background:transparent; border:1px dashed rgba(255,255,255,0.04); color:var(--muted) }

    .small{ font-size:0.88rem; color:var(--muted) }

    /* Toggle switch */
    .switch{
      display:inline-flex; align-items:center; gap:10px;
    }
    .toggle{
      width:48px; height:28px; background:rgba(255,255,255,0.06); border-radius:999px; padding:4px; display:inline-flex; align-items:center; cursor:pointer;
    }
    .knob{ width:20px; height:20px; background:linear-gradient(180deg,#fff,#e9e9e9); border-radius:50%; transform: translateX(0); transition: transform .18s ease; box-shadow: 0 4px 10px rgba(2,6,23,0.4); }
    .toggle[data-on="true"]{ background: linear-gradient(90deg,var(--accent-a), var(--accent-b)); }
    .toggle[data-on="true"] .knob{ transform: translateX(20px); }

    /* Focus visible for keyboard */
    :focus{ outline: none; }
    :focus-visible{ box-shadow: var(--focus); border-radius:8px; }

    /* Print-friendly */
    @media print{
      body{ background: #fff; color:#000 }
      .wrapper{ box-shadow:none; background:none }
      aside.tools, .skip-link{ display:none }
      .card{ border: none; box-shadow:none; background:transparent }
    }

    /* Accessibility helpers */
    .visually-hidden{
      position: absolute!important;
      height: 1px; width: 1px;
      overflow: hidden;
      clip: rect(1px,1px,1px,1px);
      white-space:nowrap;
    }

    /* High-contrast mode */
    :root[data-contrast="high"]{
      --bg:#071124;
      --card:#fff;
      --text:#02121a;
      --muted:#243241;
      --glass: rgba(2,18,26,0.02);
    }
  </style>
</head>
<body>
  <a href="#letter" class="skip-link">Skip to letter</a>

  <main class="wrapper" id="main" role="main" aria-labelledby="page-title">
    <!-- Left/main column: card with letter -->
    <section class="card" aria-label="Teacher's Day letter card">
      <header class="site-header" role="banner">
        <div class="logo" aria-hidden="true">C</div>
        <div class="title">
          <h1 id="page-title">Code of Gratitude ‚Äî Teacher's Day</h1>
          <p>Celebrate our teachers with a C-language themed letter of appreciation.</p>
        </div>
      </header>

      <article id="letter" tabindex="0" aria-labelledby="letter-title" class="card" role="article">
        <h2 id="letter-title">A Letter of Thanks ‚Äî (C-themed)</h2>

        <div class="meta" aria-hidden="false">
          <div class="fromto">
            <strong>From:</strong> Grade 9 Students<br />
            <strong>To:</strong> Our Teachers
          </div>
          <div class="small">Date: <time datetime="">Teacher's Day</time></div>
        </div>

        <!-- ------- EDIT THIS SECTION: your letter text is here ------- -->
        <div class="letter-body" id="letter-body">
          <p>Dear Teachers,</p>

          <p>printf("Happy Teacher's Day!\\n");</p>

          <p>Just like the <code>main()</code> function starts a C program, you start our learning journey every day. You declare our values, define our behavior, and call the functions that make us better people. When we get compilation errors in life, you patiently debug our mistakes and compile our confidence again.</p>

          <p>Thank you for your patience, your clear comments, and your gentle refactors of our thinking. We promise to return the favor by writing cleaner code in life and carrying forward what you've taught us.</p>

          <p>With gratitude,<br/>Your students</p>

        </div>

        <div class="code-card" aria-hidden="true">
/* Fun C-style signature */
#include &lt;gratitude.h&gt;
int main(void){
    printf("Thank you, Teachers!\\n");
    return 0;
}
        </div>
      </article>

      <!-- Footer actions -->
      <div style="display:flex; gap:10px; margin-top:14px; align-items:center; flex-wrap:wrap;">
        <button class="btn" id="printBtn" aria-label="Print letter">üñ®Ô∏è Print</button>
        <button class="btn" id="downloadBtn" aria-label="Download letter as text">‚¨áÔ∏è Download .txt</button>
        <button class="btn secondary" id="editBtn" aria-label="Edit letter in place">‚úçÔ∏è Edit Letter</button>
        <span class="small" style="margin-left:auto">Tip: Press <kbd>Tab</kbd> to navigate controls.</span>
      </div>
    </section>

    <!-- Right column: tools & accessibility -->
    <aside class="card tools" role="complementary" aria-label="Controls">
      <h3 style="margin-top:0">Controls</h3>
      <div class="controls" role="group" aria-label="adjustment controls">

        <div>
          <label class="small" for="textSize">Text size</label>
          <div style="display:flex; gap:8px; margin-top:6px;">
            <button class="btn" id="decreaseText" aria-label="Decrease text size">A‚àí</button>
            <button class="btn" id="resetText" aria-label="Reset text size">A</button>
            <button class="btn" id="increaseText" aria-label="Increase text size">A+</button>
          </div>
        </div>

        <div style="display:flex; align-items:center; justify-content:space-between;">
          <div>
            <div class="small">High contrast</div>
            <div class="switch" style="margin-top:8px">
              <div id="contrastToggle" class="toggle" role="switch" aria-checked="false" tabindex="0" data-on="false" aria-label="Toggle high contrast mode">
                <div class="knob" aria-hidden="true"></div>
              </div>
            </div>
          </div>

          <div style="text-align:right;">
            <div class="small">Preview</div>
            <div style="margin-top:8px; font-family:monospace; font-size:0.9rem; color:var(--muted)">
              <div>main()</div>
              <div>‚Äî teachers()</div>
            </div>
          </div>
        </div>

        <div>
          <label class="small">Accessibility notes</label>
          <ul style="margin:8px 0 0 18px; color:var(--muted); padding:0;">
            <li>Skip link to jump to the letter</li>
            <li>Keyboard focus visible</li>
            <li>Printable and mobile-friendly</li>
          </ul>
        </div>

      </div>
    </aside>
  </main>

  <script>
    // ---------- Small utility functions ----------
    const letterBody = document.getElementById('letter-body');
    const printBtn = document.getElementById('printBtn');
    const downloadBtn = document.getElementById('downloadBtn');
    const editBtn = document.getElementById('editBtn');
    const increaseText = document.getElementById('increaseText');
    const decreaseText = document.getElementById('decreaseText');
    const resetText = document.getElementById('resetText');
    const contrastToggle = document.getElementById('contrastToggle');
    const root = document.documentElement;

    // Printable
    printBtn.addEventListener('click', ()=> window.print());

    // Download as .txt
    downloadBtn.addEventListener('click', ()=>{
      const text = document.getElementById('letter-body').innerText;
      const blob = new Blob([text], {type: 'text/plain'});
      const url = URL.createObjectURL(blob);
      const a = document.createElement('a');
      a.href = url;
      a.download = "teachers_day_letter.txt";
      document.body.appendChild(a);
      a.click();
      a.remove();
      URL.revokeObjectURL(url);
    });

    // In-place edit toggling (uses contenteditable)
    let editing = false;
    editBtn.addEventListener('click', toggleEdit);
    function toggleEdit(){
      editing = !editing;
      if(editing){
        letterBody.contentEditable = 'true';
        letterBody.focus();
        editBtn.textContent = 'üíæ Save';
        editBtn.setAttribute('aria-label','Save edited letter');
      } else {
        letterBody.contentEditable = 'false';
        editBtn.textContent = '‚úçÔ∏è Edit Letter';
        editBtn.setAttribute('aria-label','Edit letter in place');
        // Optional: persist to localStorage
        try { localStorage.setItem('savedLetter', document.getElementById('letter-body').innerHTML); }
        catch(e){}
      }
    }

    // Text size adjusters
    const baseFontSize = 16;
    let currentScale = 1;
    function applyScale(){
      document.querySelectorAll('.letter-body').forEach(el=>{
        el.style.fontSize = (baseFontSize * currentScale) + 'px';
      });
    }
    increaseText.addEventListener('click', ()=>{ currentScale = Math.min(1.6, currentScale + 0.1); applyScale(); });
    decreaseText.addEventListener('click', ()=>{ currentScale = Math.max(0.75, currentScale - 0.1); applyScale(); });
    resetText.addEventListener('click', ()=>{ currentScale = 1; applyScale(); });

    // Contrast toggle
    function setContrast(on){
      if(on){
        root.setAttribute('data-contrast','high');
        contrastToggle.setAttribute('data-on','true');
        contrastToggle.setAttribute('aria-checked','true');
      } else {
        root.removeAttribute('data-contrast');
        contrastToggle.setAttribute('data-on','false');
        contrastToggle.setAttribute('aria-checked','false');
      }
    }
    contrastToggle.addEventListener('click', ()=> setContrast( contrastToggle.getAttribute('data-on') !== 'true' ));
    contrastToggle.addEventListener('keydown', (e)=>{
      if(e.key === 'Enter' || e.key === ' ') { e.preventDefault(); contrastToggle.click(); }
    });

    // Load saved letter from localStorage if any
    try {
      const saved = localStorage.getItem('savedLetter');
      if(saved) document.getElementById('letter-body').innerHTML = saved;
    } catch(e){}

    // Keyboard shortcut: Ctrl+S to save when editing
    document.addEventListener('keydown', (e)=>{
      if((e.ctrlKey || e.metaKey) && e.key.toLowerCase() === 's'){
        if(editing){
          e.preventDefault();
          toggleEdit();
          // small visual confirmation
          editBtn.animate([{transform:'scale(1.02)'},{transform:'scale(1)'}], {duration:160});
        }
      }
    });

    // Ensure strong focus ring when navigating via keyboard
    (function ensureFocusVisible(){
      let hadKeyboardEvent = false;
      window.addEventListener('keydown', ()=> hadKeyboardEvent = true, true);
      window.addEventListener('mousedown', ()=> hadKeyboardEvent = false, true);
      document.addEventListener('focusin', (e)=>{
        if(hadKeyboardEvent) e.target.classList.add('focus-visible');
      });
      document.addEventListener('focusout', (e)=> e.target.classList.remove('focus-visible'));
    })();

    // Ensure contrast toggle respects saved preference
    try {
      const c = localStorage.getItem('highContrast') === 'true';
      setContrast(c);
      // save preference on toggle
      contrastToggle.addEventListener('click', ()=> localStorage.setItem('highContrast', contrastToggle.getAttribute('data-on') === 'true'));
    } catch(e){}
  </script>
</body>
</html>